# Commit: d460bf938294f8a393e03a1ba6bc3b0f24807ba5
## Message: Merge branch 'GP-0_ryanmkurtz_PR-8488_rjooske_fix_java-awt-headless-not-set'
## Diff:
```
diff --git a/Ghidra/RuntimeScripts/Linux/support/bsim b/Ghidra/RuntimeScripts/Linux/support/bsim
index a9ff1917e5a..d4a1747f36a 100755
--- a/Ghidra/RuntimeScripts/Linux/support/bsim
+++ b/Ghidra/RuntimeScripts/Linux/support/bsim
@@ -18,4 +18,4 @@ VMARG_LIST="-Djava.awt.headless=true "
 SCRIPT_FILE="$(readlink -f "$0" 2>/dev/null || readlink "$0" 2>/dev/null || echo "$0")"
 SCRIPT_DIR="${SCRIPT_FILE%/*}"
 
-${SCRIPT_DIR}/launch.sh $LAUNCH_MODE jdk "BSim" "${MAXMEM}" "" ghidra.features.bsim.query.ingest.BSimLaunchable "$@"
+${SCRIPT_DIR}/launch.sh $LAUNCH_MODE jdk "BSim" "${MAXMEM}" "${VMARG_LIST}" ghidra.features.bsim.query.ingest.BSimLaunchable "$@"
diff --git a/Ghidra/RuntimeScripts/Linux/support/bsim_ctl b/Ghidra/RuntimeScripts/Linux/support/bsim_ctl
index 663c39db994..2df6745b1d9 100755
--- a/Ghidra/RuntimeScripts/Linux/support/bsim_ctl
+++ b/Ghidra/RuntimeScripts/Linux/support/bsim_ctl
@@ -17,8 +17,4 @@ VMARG_LIST="-Djava.awt.headless=true "
 SCRIPT_FILE="$(readlink -f "$0" 2>/dev/null || readlink "$0" 2>/dev/null || echo "$0")"
 SCRIPT_DIR="${SCRIPT_FILE%/*}"
 
-# Some JVM's with class data sharing enabled have issues with BSim starting with Ghidra's custom 
-# classloader, so we will disable sharing
-VMARG_LIST="-Xshare:off"
-
 ${SCRIPT_DIR}/launch.sh $LAUNCH_MODE jdk "BSimControl" $MAXMEM "${VMARG_LIST}" ghidra.features.bsim.query.BSimControlLaunchable "$@"
diff --git a/docker/entrypoint.sh b/docker/entrypoint.sh
index e19a7372d1d..f58f13454f6 100755
--- a/docker/entrypoint.sh
+++ b/docker/entrypoint.sh
@@ -35,7 +35,7 @@ elif [[ $MODE == "ghidra-server" ]] then
 elif [[ $MODE == "bsim" ]] then
 	LAUNCH_MODE=${LAUNCH_MODE:=fg}
 	VMARG_LIST=${VMARG_LIST:="-Djava.awt.headless=true "}
-	/ghidra/support/launch.sh $LAUNCH_MODE jdk "BSim" "${MAXMEM}" "" ghidra.features.bsim.query.ingest.BSimLaunchable "$@"
+	/ghidra/support/launch.sh $LAUNCH_MODE jdk "BSim" "${MAXMEM}" "${VMARG_LIST}" ghidra.features.bsim.query.ingest.BSimLaunchable "$@"
 elif [[ $MODE == "bsim-server" ]] then
 	LAUNCH_MODE=${LAUNCH_MODE:=fg}
 	VMARG_LIST=${VMARG_LIST:="-Djava.awt.headless=true -Xshare:off"}
```
-----------------------------------
