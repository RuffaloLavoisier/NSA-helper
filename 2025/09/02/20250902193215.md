# Commit: f57b520837b5eb5de1e0fad0abb29371be367436
## Message: GP-5825: Fixing issue with prior commit
## Diff:
```
diff --git a/Ghidra/Features/Base/src/main/java/ghidra/app/util/opinion/AbstractLibrarySupportLoader.java b/Ghidra/Features/Base/src/main/java/ghidra/app/util/opinion/AbstractLibrarySupportLoader.java
index 1fb58c37749..3e61529179a 100644
--- a/Ghidra/Features/Base/src/main/java/ghidra/app/util/opinion/AbstractLibrarySupportLoader.java
+++ b/Ghidra/Features/Base/src/main/java/ghidra/app/util/opinion/AbstractLibrarySupportLoader.java
@@ -1124,27 +1124,29 @@ protected List<LibrarySearchPath> getLibrarySearchPaths(Program program, LoadSpe
 				if (fsService.isLocal(fsrl)) {
 					try {
 						// It might be a container file that we want to look inside of, so probe
-						FileSystemRef fileRef =
-							fsService.probeFileForFilesystem(fsrl, monitor, null);
-						if (fileRef != null) {
-							result.add(new LibrarySearchPath(fileRef, null));
+						if (fsService.getLocalFS().getLocalFile(fsrl).isFile()) {
+							FileSystemRef fileRef =
+								fsService.probeFileForFilesystem(fsrl, monitor, null);
+							if (fileRef != null) {
+								result.add(new LibrarySearchPath(fileRef, null));
+								continue;
+							}
 						}
 					}
 					catch (IOException e) {
 						log.appendMsg(e.getMessage());
 					}
 				}
-				else {
-					try (RefdFile fileRef = fsService.getRefdFile(fsrl, monitor)) {
-						if (fileRef != null) {
-							result.add(
-								new LibrarySearchPath(fileRef.fsRef.dup(), fileRef.file.getPath()));
-						}
-					}
-					catch (IOException e) {
-						log.appendMsg(e.getMessage());
+
+				try (RefdFile fileRef = fsService.getRefdFile(fsrl, monitor)) {
+					if (fileRef != null) {
+						result.add(
+							new LibrarySearchPath(fileRef.fsRef.dup(), fileRef.file.getPath()));
 					}
 				}
+				catch (IOException e) {
+					log.appendMsg(e.getMessage());
+				}
 			}
 			success = true;
 		}
```
-----------------------------------
