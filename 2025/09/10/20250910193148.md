# Commit: f501ffccd2df04a7c3827a15717566a63861fbf9
## Message: Merge remote-tracking branch 'origin/GP-5938_dev747368_sevenzip_bz2_getsize_npe'
## Diff:
```
diff --git a/Ghidra/Features/FileFormats/src/main/java/ghidra/file/formats/sevenzip/SevenZipFileSystem.java b/Ghidra/Features/FileFormats/src/main/java/ghidra/file/formats/sevenzip/SevenZipFileSystem.java
index ccb73044a20..7390ed00809 100644
--- a/Ghidra/Features/FileFormats/src/main/java/ghidra/file/formats/sevenzip/SevenZipFileSystem.java
+++ b/Ghidra/Features/FileFormats/src/main/java/ghidra/file/formats/sevenzip/SevenZipFileSystem.java
@@ -401,8 +401,9 @@ public void prepareOperation(ExtractAskMode extractAskMode) throws SevenZipExcep
 			// In our case, we only handle extract operations.
 			if (!currentItem.isFolder() && extractAskMode == ExtractAskMode.EXTRACT) {
 				try {
-					currentCacheEntryBuilder = fsService.createTempFile(currentItem.getSize());
-					monitor.initialize(currentItem.getSize(), "Extracting " + currentName);
+					long size = Objects.requireNonNullElse(currentItem.getSize(), -1L);
+					currentCacheEntryBuilder = fsService.createTempFile(size);
+					monitor.initialize(size, "Extracting " + currentName);
 				}
 				catch (IOException e) {
 					throw new SevenZipException(e);
```
-----------------------------------
