# Commit: 90c85a77611213dcd2c38349e404fa86a039fddd
## Message: Merge remote-tracking branch 'origin/GP-0-dragonmacher-test-fixes-7-2-25' into patch
## Diff:
```
diff --git a/Ghidra/Framework/Docking/src/main/java/docking/GlobalMenuAndToolBarManager.java b/Ghidra/Framework/Docking/src/main/java/docking/GlobalMenuAndToolBarManager.java
index 61dde3d598d..1894e9df69a 100644
--- a/Ghidra/Framework/Docking/src/main/java/docking/GlobalMenuAndToolBarManager.java
+++ b/Ghidra/Framework/Docking/src/main/java/docking/GlobalMenuAndToolBarManager.java
@@ -212,8 +212,12 @@ private ActionContext getFocusedWindowContext(WindowNode focusedWindowNode) {
 		KeyboardFocusManager kfm = KeyboardFocusManager.getCurrentKeyboardFocusManager();
 		Window w = kfm.getFocusedWindow();
 		if (w instanceof DockingDialog dialog) {
+			// the provider can be null when the dialog has been closed, but the Java focus transfer
+			// has not yet completed
 			DialogComponentProvider provider = dialog.getDialogComponent();
-			return provider.getActionContext(null);
+			if (provider != null) {
+				return provider.getActionContext(null);
+			}
 		}
 
 		return getComponentProviderContext(focusedWindowNode);
```
-----------------------------------
