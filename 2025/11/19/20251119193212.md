# Commit: 5816e1fff3de206c6db954f294347f6756dc1c65
## Message: Merge remote-tracking branch 'origin/GP-6136_dev747368_fix_byteviewer_exception_hexlonglong'
## Diff:
```
diff --git a/Ghidra/Features/ByteViewer/src/main/java/ghidra/app/plugin/core/byteviewer/ByteViewerComponent.java b/Ghidra/Features/ByteViewer/src/main/java/ghidra/app/plugin/core/byteviewer/ByteViewerComponent.java
index 8c84254b925..58136f0c148 100644
--- a/Ghidra/Features/ByteViewer/src/main/java/ghidra/app/plugin/core/byteviewer/ByteViewerComponent.java
+++ b/Ghidra/Features/ByteViewer/src/main/java/ghidra/app/plugin/core/byteviewer/ByteViewerComponent.java
@@ -566,18 +566,13 @@ private int adjustCharacterOffsetForBytesField(FieldLocation fieldLoc, int chara
 			return characterOffset;
 		}
 
-		int column = fieldLoc.getCol() + characterOffset;
 		int fieldNum = fieldLoc.getFieldNum();
-		int fieldRow = fieldLoc.getRow();
-		ByteField field = (ByteField) layout.getField(fieldNum);
-		if (field != null) {
-			// not sure this can be null
-			int numCols = field.getNumCols(fieldRow);
-			if (column >= numCols) {
-				column = numCols - 1;
-			}
+		if (!(layout.getField(fieldNum) instanceof ByteField field)) {
+			return characterOffset;
 		}
 
+		int column = Math.clamp(fieldLoc.getCol() + characterOffset, 0,
+			field.getNumCols(fieldLoc.getRow()) - 1);
 		return column;
 	}
 
```
-----------------------------------
