# Commit: 0e3f1815c9edcddd512b8bfdd35e9a555c83d16a
## Message: Merge remote-tracking branch 'origin/Ghidra_12.0'
## Diff:
```
diff --git a/Ghidra/Debug/Debugger-agent-dbgeng/src/main/py/src/ghidradbg/methods.py b/Ghidra/Debug/Debugger-agent-dbgeng/src/main/py/src/ghidradbg/methods.py
index 5666a4d9b59..27f18d316e7 100644
--- a/Ghidra/Debug/Debugger-agent-dbgeng/src/main/py/src/ghidradbg/methods.py
+++ b/Ghidra/Debug/Debugger-agent-dbgeng/src/main/py/src/ghidradbg/methods.py
@@ -845,7 +845,9 @@ def write_mem(process: Process, address: Address, data: bytes) -> None:
 def write_reg(frame: StackFrame, name: str, value: bytes) -> None:
     """Write a register."""
     f = find_frame_by_obj(frame)
-    util.select_frame(f.FrameNumber)
+    current = util.selected_frame()
+    if f.FrameNumber != current:
+        raise Exception("Mismatch on frame")
     nproc = util.selected_process()
     trace: Trace[commands.Extra] = frame.trace
     rv = trace.extra.require_rm().map_value_back(nproc, name, value)
```
-----------------------------------
