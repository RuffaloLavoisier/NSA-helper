# Commit: d5f29b47d61376fe17eac39fcb4549f8dacddfe8
## Message: GP-0: more from unit tests
## Diff:
```
diff --git a/Ghidra/Debug/Debugger-agent-drgn/src/main/py/src/ghidradrgn/commands.py b/Ghidra/Debug/Debugger-agent-drgn/src/main/py/src/ghidradrgn/commands.py
index b83a6cfe118..1112c65f0f3 100644
--- a/Ghidra/Debug/Debugger-agent-drgn/src/main/py/src/ghidradrgn/commands.py
+++ b/Ghidra/Debug/Debugger-agent-drgn/src/main/py/src/ghidradrgn/commands.py
@@ -234,7 +234,7 @@ def start_trace(name: str) -> None:
     util.set_convenience_variable('_ghidra_tracing', "true")
 
 
-def ghidra_trace_start(name: str) -> None:
+def ghidra_trace_start(name: str = "drgn/noname") -> None:
     """Start a Trace in Ghidra"""
 
     STATE.require_client()
@@ -267,10 +267,10 @@ def ghidra_trace_create(start_trace: bool = True) -> None:
     global prog
     prog = Program()
     kind = os.getenv('OPT_TARGET_KIND')
-    img = os.getenv('OPT_TARGET_IMG')
     if kind == "kernel":
         prog.set_kernel()
     elif kind == "coredump":
+        img = os.getenv('OPT_TARGET_IMG')
         if img is not None:
             prog.set_core_dump(img)
             if '/' in img:
diff --git a/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnCommandsTest.java b/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnCommandsTest.java
index 2bf78a0d36c..d4e30c0db0d 100644
--- a/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnCommandsTest.java
+++ b/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnCommandsTest.java
@@ -303,7 +303,7 @@ public void testPutreg() throws Exception {
 			TraceMemorySpace regs = tb.trace.getMemoryManager().getMemorySpace(t1f0, false);
 
 			RegisterValue rip = regs.getValue(snap, tb.reg("rip"));
-			assertEquals("3a40cdf7ff7f0000", rip.getUnsignedValue().toString(16));
+			assertEquals("7ffff7cd403a", rip.getUnsignedValue().toString(16));
 
 			try (Transaction tx = tb.trace.openTransaction("Float80 unit")) {
 				TraceCodeSpace code = tb.trace.getCodeManager().getCodeSpace(t1f0, true);
diff --git a/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnMethodsTest.java b/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnMethodsTest.java
index 20e807bb81b..4486990ab52 100644
--- a/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnMethodsTest.java
+++ b/Ghidra/Test/DebuggerIntegrationTest/src/test.slow/java/agent/drgn/rmi/DrgnMethodsTest.java
@@ -188,7 +188,7 @@ public void testRefreshRegisters() throws Exception {
 						.getAddressSpace(registers.getCanonicalPath().toString());
 				TraceMemorySpace regs = tb.trace.getMemoryManager().getMemorySpace(t1f0, false);
 				RegisterValue rip = regs.getValue(snap, tb.reg("rip"));
-				assertEquals("3a40cdf7ff7f0000", rip.getUnsignedValue().toString(16));
+				assertEquals("7ffff7cd403a", rip.getUnsignedValue().toString(16));
 			}
 		}
 	}
```
-----------------------------------
