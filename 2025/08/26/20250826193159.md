# Commit: c5d0f6925bb4a2363e9a591120daa2c6e6220f5d
## Message: Merge remote-tracking branch 'origin/GP-5937-dragonmacher-symbol-tree-fixes'
## Diff:
```
diff --git a/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/symboltree/nodes/SymbolCategoryNode.java b/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/symboltree/nodes/SymbolCategoryNode.java
index 767dea2247b..d973c59974f 100644
--- a/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/symboltree/nodes/SymbolCategoryNode.java
+++ b/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/symboltree/nodes/SymbolCategoryNode.java
@@ -68,13 +68,18 @@ public boolean isEnabled() {
 	@Override
 	public List<GTreeNode> generateChildren(TaskMonitor monitor) throws CancelledException {
 		if (!isEnabled) {
-			return Collections.emptyList();
+			return List.of();
+		}
+
+		SymbolTreeRootNode root = (SymbolTreeRootNode) getRoot();
+		if (root == null) {
+			// this can happen if the tree is reloaded while we are searching in a background task
+			return List.of();
 		}
 
 		SymbolType symbolType = symbolCategory.getSymbolType();
 		List<GTreeNode> list = getSymbols(symbolType, monitor);
 		monitor.checkCancelled();
-		SymbolTreeRootNode root = (SymbolTreeRootNode) getRoot();
 		int groupThreshold = root.getNodeGroupThreshold();
 		return OrganizationNode.organize(list, groupThreshold, monitor);
 	}
@@ -322,6 +327,9 @@ public boolean equals(Object o) {
 		if (this == o) {
 			return true;
 		}
+		if (o == null) {
+			return false;
+		}
 		if (getClass() != o.getClass()) {
 			return false;
 		}
```
-----------------------------------
