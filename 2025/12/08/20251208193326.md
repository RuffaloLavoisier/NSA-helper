# Commit: aabeb6d6c01299a620a6468d2e116b3aa0f636dc
## Message: Merge remote-tracking branch 'origin/GP-0-dragonmacher-test-fixes-12-1-25'
## Diff:
```
diff --git a/Ghidra/Features/Base/src/test.slow/java/ghidra/app/plugin/core/comments/CommentsPluginTest.java b/Ghidra/Features/Base/src/test.slow/java/ghidra/app/plugin/core/comments/CommentsPluginTest.java
index e97dfad850a..8e3e145a1c8 100644
--- a/Ghidra/Features/Base/src/test.slow/java/ghidra/app/plugin/core/comments/CommentsPluginTest.java
+++ b/Ghidra/Features/Base/src/test.slow/java/ghidra/app/plugin/core/comments/CommentsPluginTest.java
@@ -946,21 +946,19 @@ private void configureTool(PluginTool pluginTool) throws Exception {
 	}
 
 	private GhidraProgramTableModel<?> waitForModel() throws Exception {
-		int i = 0;
-		while (i++ < 50) {
+
+		GTable table = waitFor(() -> {
 			TableComponentProvider<?>[] providers = getProviders();
-			if (providers.length > 0) {
-				GThreadedTablePanel<?> panel = (GThreadedTablePanel<?>) TestUtils
-						.getInstanceField("threadedPanel", providers[0]);
-				GTable table = panel.getTable();
-				while (panel.isBusy()) {
-					Thread.sleep(50);
-				}
-				return (GhidraProgramTableModel<?>) table.getModel();
+			if (providers.length == 0) {
+				return null;
 			}
-			Thread.sleep(50);
-		}
-		throw new Exception("Unable to get threaded table model");
+
+			return providers[0].getTable();
+		});
+
+		GhidraProgramTableModel<?> gModel = (GhidraProgramTableModel<?>) table.getModel();
+		waitForTableModel(gModel);
+		return gModel;
 	}
 
 	private TableComponentProvider<?>[] getProviders() {
```
-----------------------------------
