# Commit: 9d6e233f65844b1e6306712b720b23b89cd2d6a9
## Message: fix another Pty windows test from hanging
## Diff:
```
diff --git a/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java b/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java
index 55e64736f4a..d85ab6bd8a1 100644
--- a/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java
+++ b/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java
@@ -108,11 +108,29 @@ public void testSessionGdbLineLength() throws IOException, InterruptedException
 				"echo This line is cleary much, much, much, much, much, much, much, much, much " +
 					" longer than 80 characters");
 			writer.flush();
-			String line;
-			do {
-				line = reader.readLine();
-			}
-			while (!"test".equals(line));
+			
+			// set up reading cmd output on a thread since "readLine" is blocking
+			Thread t = new Thread(() -> {
+				String line;
+				try {
+					do {
+						line = reader.readLine();
+					}
+					while (!"test".equals(line));	
+				} catch (IOException e) {
+					// TODO Auto-generated catch block
+					e.printStackTrace();
+				}
+			});
+			
+			t.setDaemon(true);
+			t.start();
+			
+			writer.println("exit 3");
+			writer.flush();
+
+			assertEquals(3, gdb.waitExited());
+			assertFalse("Content read successfully from the cmd", t.isAlive());
 		}
 	}
 
```
-----------------------------------
