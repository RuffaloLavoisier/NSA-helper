# Commit: e3371c2985d4e9c491e9450e759933e1602afb2e
## Message: Merge remote-tracking branch 'origin/GP-0_ghidraffe_fix_Pty_windows_hanging_tests'
## Diff:
```
diff --git a/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java b/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java
index 9fb6130572e..55e64736f4a 100644
--- a/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java
+++ b/Ghidra/Framework/Pty/src/test/java/ghidra/pty/windows/ConPtyTest.java
@@ -16,6 +16,7 @@
 package ghidra.pty.windows;
 
 import static org.junit.Assert.assertEquals;
+import static org.junit.Assert.assertFalse;
 import static org.junit.Assert.fail;
 import static org.junit.Assume.assumeTrue;
 
@@ -69,16 +70,28 @@ public void testSessionCmdEchoTest() throws IOException, InterruptedException {
 
 			writer.println("echo test");
 			writer.flush();
-			String line;
-			do {
-				line = reader.readLine();
-			}
-			while (!"test".equals(line));
-
+			// set up reading cmd output on a thread since "readLine" is blocking
+			Thread t = new Thread(() -> {
+				String line;
+				try {
+					do {
+						line = reader.readLine();
+					}
+					while (!"test".equals(line));	
+				} catch (IOException e) {
+					// TODO Auto-generated catch block
+					e.printStackTrace();
+				}
+			});
+			
+			t.setDaemon(true);
+			t.start();
+			
 			writer.println("exit 3");
 			writer.flush();
 
 			assertEquals(3, cmd.waitExited());
+			assertFalse("Content read successfully from the cmd", t.isAlive());
 		}
 	}
 
```
-----------------------------------
