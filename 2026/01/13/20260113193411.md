# Commit: b473d933a5974604a52311d5c417a181cc95f4ae
## Message: GP-6315 Quick fix for stack depth and function effects not propogating
across indirect windows external calls
## Diff:
```
diff --git a/Ghidra/Features/Base/src/main/java/ghidra/program/util/SymbolicPropogator.java b/Ghidra/Features/Base/src/main/java/ghidra/program/util/SymbolicPropogator.java
index 357f62d1c89..301d84edbb4 100644
--- a/Ghidra/Features/Base/src/main/java/ghidra/program/util/SymbolicPropogator.java
+++ b/Ghidra/Features/Base/src/main/java/ghidra/program/util/SymbolicPropogator.java
@@ -1006,12 +1006,20 @@ else if (vContext.isExternalSpace(val1.getSpace())) {
 										if (refs.length <= 0 ||
 											!refs[0].getToAddress().equals(target)) {
 	
+											Address oldTarget = target;
 											target = makeReference(vContext, instruction, Reference.MNEMONIC,
 												//  Use target in case location has shifted (external...)
 												target.getAddressSpace().getSpaceID(),
 												target.getAddressableWordOffset(), val1.getSize(),
 												null,
 												instruction.getFlowType(), ptype, !suspectOffset, false, monitor);
+											if (target == null) {
+												// Target was nulled out, restore old target.
+												// Need to handle function call side-effects even if didn't make a reference
+												// The target can be changed by makeReference(), but if it is nulled out, then
+												// it indicates the reference was already made.
+												target = oldTarget;
+											}
 										}
 									}
 								}
```
-----------------------------------
