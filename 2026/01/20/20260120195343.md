# Commit: dcd10d12b9833d87d9f322aa99fdd51497a28411
## Message: GP-6086: Route providerClosed through overridable isPrimary().
## Diff:
```
diff --git a/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingPlugin.java b/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingPlugin.java
index bd4e9be4fec..419931916a1 100644
--- a/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingPlugin.java
+++ b/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingPlugin.java
@@ -15,7 +15,7 @@
  */
 package ghidra.app.plugin.core.debug.gui.listing;
 
-import static ghidra.app.plugin.core.debug.gui.DebuggerResources.*;
+import static ghidra.app.plugin.core.debug.gui.DebuggerResources.GROUP_TRANSIENT_VIEWS;
 
 import java.util.List;
 import java.util.function.Consumer;
@@ -82,8 +82,7 @@
 	},
 	servicesProvided = {
 		DebuggerListingService.class,
-	}
-)
+	})
 public class DebuggerListingPlugin extends AbstractCodeBrowserPlugin<DebuggerListingProvider>
 		implements DebuggerListingService {
 	private static final String KEY_CONNECTED_PROVIDER = "connectedProvider";
diff --git a/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingProvider.java b/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingProvider.java
index 5fafbd2c6fe..8f34428dd91 100644
--- a/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingProvider.java
+++ b/Ghidra/Debug/Debugger/src/main/java/ghidra/app/plugin/core/debug/gui/listing/DebuggerListingProvider.java
@@ -93,8 +93,9 @@
 
 public class DebuggerListingProvider extends CodeViewerProvider {
 
-	private static final AutoConfigState.ClassHandler<DebuggerListingProvider> CONFIG_STATE_HANDLER =
-		AutoConfigState.wireHandler(DebuggerListingProvider.class, MethodHandles.lookup());
+	private static final AutoConfigState.ClassHandler<
+		DebuggerListingProvider> CONFIG_STATE_HANDLER =
+			AutoConfigState.wireHandler(DebuggerListingProvider.class, MethodHandles.lookup());
 	private static final String KEY_DEBUGGER_COORDINATES = "DebuggerCoordinates";
 
 	protected static boolean sameCoordinates(DebuggerCoordinates a, DebuggerCoordinates b) {
@@ -451,6 +452,11 @@ public boolean isMainListing() {
 		return isMainListing;
 	}
 
+	@Override
+	public boolean isPrimary() {
+		return isMainListing();
+	}
+
 	@Override
 	public boolean isReadOnly() {
 		if (controlService == null) {
diff --git a/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/codebrowser/CodeViewerProvider.java b/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/codebrowser/CodeViewerProvider.java
index 060342400aa..a3a97be3c40 100644
--- a/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/codebrowser/CodeViewerProvider.java
+++ b/Ghidra/Features/Base/src/main/java/ghidra/app/plugin/core/codebrowser/CodeViewerProvider.java
@@ -236,9 +236,18 @@ public WindowPosition getIntraGroupPosition() {
 		return WindowPosition.RIGHT;
 	}
 
+	/**
+	 * The primary provider cannot be removed, only hidden
+	 * 
+	 * @return true if primary
+	 */
+	public boolean isPrimary() {
+		return isConnected();
+	}
+
 	@Override
 	public void closeComponent() {
-		if (!isConnected()) {
+		if (!isPrimary()) {
 			plugin.providerClosed(this);
 			return;
 		}
```
-----------------------------------
